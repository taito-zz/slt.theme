<section id="collective-cart-shopping-customer-info" i18n:domain="slt.theme">
  <h1 tal:content="viewlet/title" />
  <article tal:condition="viewlet/address" tal:define="item viewlet/address">
    <dl tal:attributes="class viewlet/class_collapsible_address">
      <dt class="collapsibleHeader">
        <span tal:replace="item/name" />
      </dt>
      <dd class="collapsibleContent">
        <p tal:content="item/name" />
        <p tal:condition="item/organization" tal:content="item/organization" />
        <p tal:content="item/street" />
        <p tal:content="item/city" />
        <p tal:content="item/email" />
        <p tal:content="item/phone" />
      </dd>
    </dl>
  </article>
  <dl tal:attributes="class viewlet/class_collapsed" tal:condition="viewlet/addresses">
    <dt class="collapsibleHeader" i18n:translate="">Change Info</dt>
    <dd class="collapsibleContent">
      <form method="post" tal:attributes="action context/@@plone_context_state/current_base_url">
        <article tal:repeat="item viewlet/addresses">
          <dl tal:attributes="class viewlet/class_collapsed">
            <dt class="collapsibleHeader">
              <span tal:replace="item/name" />
              <button
                class="update"
                i18n:translate=""
                tal:attributes="
                  name viewlet/button;
                  value item/uuid"
                type="submit">Change to this address</button>
            </dt>
            <dd class="collapsibleContent">
              <p tal:content="item/name" />
              <p tal:condition="item/organization" tal:content="item/organization" />
              <p tal:content="item/street" />
              <p tal:content="item/city" />
              <p tal:content="item/email" />
              <p tal:content="item/phone" />
            </dd>
          </dl>
        </article>
      </form>
    </dd>
  </dl>
  <dl tal:attributes="class viewlet/class_collapsible_form">
    <dt class="collapsibleHeader">
      <tal:block i18n:translate="">Update Info</tal:block>
    </dt>
    <dd class="collapsibleContent">
      <form tal:replace="structure viewlet/form" />
    </dd>
  </dl>
</section>
