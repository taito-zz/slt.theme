<html
  i18n:domain="collective.cart.core"
  lang="en"
  metal:use-macro="context/main_template/macros/master"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:tal="http://xml.zope.org/namespaces/tal">
  <body>
    <metal:main fill-slot="main">
      <section class="collective-cart-shopping slt-theme-orders">
        <div tal:replace="structure provider:plone.abovecontenttitle" />
        <h1 class="documentFirstHeading" i18n:domain="slt.policy" i18n:translate="">Orders</h1>
        <div tal:replace="structure provider:plone.belowcontenttitle" />
        <p
          i18n:translate="no_orders"
          tal:condition="not: view/carts">You haven't tried to order anything yet.</p>

        <dl tal:attributes="class view/class_collapsible" tal:repeat="cart view/carts">
          <dt class="collapsibleHeader" i18n:domain="slt.theme">
            <span i18n:translate="order-number">Order Number: <tal:name i18n:name="order_number" tal:replace="cart/id" /></span>
            <span i18n:translate="order-state">State: <tal:name i18n:name="order_state" tal:replace="cart/state_title" /></span>
            <span i18n:translate="order-date">Date: <tal:name i18n:name="order_date" tal:replace="cart/modified" /></span>
            <span i18n:translate="order-total">Total: <tal:name i18n:name="order-total" tal:replace="cart/total" /></span>
          </dt>
          <dd class="collapsibleContent">
            <table class="listing">
              <thead>
                <tr>
                  <th i18n:translate="">ID</th>
                  <th i18n:translate="">Name</th>
                  <th i18n:translate="">Price</th>
                  <th i18n:domain="slt.theme" i18n:translate="">Pcs</th>
                  <th i18n:domain="slt.theme" i18n:translate="">Subtotal</th>
                </tr>
              </thead>
              <tbody>
                <tr tal:repeat="item cart/articles">
                  <td tal:content="item/sku" />
                  <td>
                    <a
                      tal:attributes="href item/url"
                      tal:condition="item/url"
                      tal:content="item/title" />
                    <span
                      tal:condition="not: item/url"
                      tal:replace="item/title" />
                  </td>
                  <td tal:content="item/gross" />
                  <td tal:content="item/quantity" />
                  <td tal:content="item/gross_subtotal" />
                </tr>
              </tbody>
            </table>
          </dd>
        </dl>


      </section>
    </metal:main>
  </body>
</html>